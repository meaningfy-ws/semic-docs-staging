<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mapping an existing model to Core Vocabularies :: SEMIC documentation</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="icon" href="../../favicon.ico" type="image/x-icon">  </head>
  <body class="article">
<link rel="stylesheet" href="../../_/css/custom.css">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="../..">
            </a>
        </div>
    </nav>
<nav class="navbar">
    <div class="navbar-brand">
    <img src="../../_/img/semic-logo.png" class="logo" />
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs" >
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="core-vocs-handbook" data-version="develop">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">SEMIC Core Vocabularies Handbook</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="introduction.html#sec:Introduction">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction.html#sec:Intended_audience">Intended audience</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction.html#sec:Structure_of_the_Handbook">Structure of the handbook</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="introduction.html#sec:interoperability">Interoperability and Core Vocabularies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:what-is-interoperability">What is interoperability?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:achieve-interoperability">What is semantic interoperability and how to achieve it?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:Core_Vocabulary">What is a Core Vocabulary?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:SEMIC-Core-Vocabularies">SEMIC Core Vocabularies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:Why_Core_Vocabulary">Why Core Vocabularies?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="introduction.html#sec:use-case-overview">Overview of use cases for using Core Vocabularies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:example">A practical example</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:scenario">How to solve the scenario with semantic data specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="introduction.html#sec:use-cases">Introduction to the use cases covered in the handbook</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:create-data-model-from-cv">Creating a new data model from an existing Core Vocabulary</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:create-a-new-xsd-schema">Create a new XSD schema from a Core Vocabulary (UC1.1)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.1-description">Use case description</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.1-guideline">Guidelines to create a new XSD schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.1-tutorial">Tutorial: Create an XSD schema using the Core Business Vocabulary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:create-a-new-json-ld-context-definition">Create a new JSON-LD context definition from a Core Vocabulary (UC1.2)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.2-description">Use case description</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.2-guideline">Guidelines to create a new JSON-LD context definition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="how-to-create-new-data-models.html#sec:uc1.2-tutorial">Tutorial: Create a JSON-LD context from the CPSV-AP Core Vocabulary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#sec:map-model-to-cv">Mapping an existing model to Core Vocabularies</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#sec:map-existing-model-to-cv">Map an existing conceptual model to a Core Vocabulary (UC2.1)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:uc2.1-description">Use case description</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:uc2.1-guidline">Guidelines on how to map an existing conceptual model to a Core Vocabulary</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:tutorial:map-schema.org">Tutorial: Map Schema.org to the Core Business Vocabulary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#sec:map-existing-shema">Map an existing XSD Schema to a Core Vocabulary (UC2.2)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:uc2.2-description">Use case description</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:uc2.2-guidline">Guidelines for Mapping an Existing XSD Schema to a Core Vocabulary</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sec:uc2.2-tutorial">Tutorial: Map the Core Business Vocabulary from XSD to RDF</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Concluding-remarks.html#sec:concluding-remarks">Concluding remarks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="appmenu.html#sec:app-menu">Appendix</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Appendix.html#sec:additional-use-cases">Additional Use Cases</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Appendix.html#sec:uc2.3">UC2.3: Map an existing JSON Schema to a Core Vocabulary</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Appendix.html#sec:uc3">UC3: Create a new Semantic data specification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Appendix.html#sec:uc4-des">UC4: Create a new data model</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="glossary.html#sec:glossary">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="references.html#sec:references">References</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="handbook-as-a-whole.html#sec:handbook">Handbook as a whole</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SEMIC Core Vocabularies Handbook</span>
    <span class="version">develop</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../index.html">Home</a></div>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../SM16-98/index.html">SEMIC Core Vocabularies Handbook</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../SM16-98/index.html">SM16-98</a>
        </li>
        <li class="version is-current">
          <a href="index.html">develop</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../style-guide/SM16-17/index.html">SEMIC Style guide</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../style-guide/SM16-17/index.html">SM16-17</a>
        </li>
        <li class="version">
          <a href="../../style-guide/develop/index.html">develop</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">SEMIC Core Vocabularies Handbook</a></li>
    <li><a href="#sec:map-model-to-cv">Mapping an existing model to Core Vocabularies</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">develop</button>
  <div class="version-menu">
    <a class="version" href="../SM16-98/how-to-map-existing-data-models.html">SM16-98</a>
    <a class="version is-current" href="how-to-map-existing-data-models.html">develop</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/meaningfy-ws/semic-docs-staging/edit/main/sources/core-vocs-handbook/develop/docs/modules/ROOT/pages/how-to-map-existing-data-models.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Mapping an existing model to Core Vocabularies</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the fields of knowledge representation and data modelling, distinct modelling languages exist and their corresponding methods and tools to create them. While such heterogeneity can be  useful, it also raises challenges for semantic interoperability.</p>
</div>
<div class="paragraph">
<p>The idea of unifying this broad spectrum of approaches under a single model and a single representation language is conceptually appealing but pragmatically unfeasible. Also, the diversity reflects the varied domains, perspectives, and requirements these approaches and modelling languages serve.</p>
</div>
<div class="paragraph">
<p>To navigate this complexity, a nuanced approach is required—one that seeks to establish connections across models without imposing uniformity. Here, the notions of ontology matching and model alignment methodologies more generation come into play, using the term ‘ontology’ loosely in this context (i.e., it may also refer to similar artefacts, such as OWL-formalised conceptual data models or structured controlled vocabularies). The mapping endeavour encompasses not only ontological artefacts, vocabularies, and application profiles, but also various technical artefacts, such as data shapes defined in SHACL, XSD schemas for XML and to JSON Schemas for JSON data. Thus, mapping in this broader sense involves creating links between these semantic and technical artefacts and Core Vocabularies.</p>
</div>
<div class="paragraph">
<p>The past three decades have witnessed extensive efforts in ontology and attendant model matching, resulting in a plethora of tools, methods, and technologies. These strategies range from concept-based methods that focus on the semantic congruence and contextual relevance of the model elements, to formal methods for finding, aligning, and transforming content to cater for various mapping needs.</p>
</div>
<div class="paragraph">
<p>The subsequent sections describe the guidelines of model mapping and thereby provide an entry point for navigating and bridging the world of semantic and technical artefacts, empowering stakeholders in the process.</p>
</div>
<div class="paragraph">
<p>The use cases focus on mapping two types of models specifically: conceptual models (or application ontologies) and XSD schemas. They each have their business cases providing a rationale for why one would want to do this, which is described in the respective “Description” sentences. The respective “Guidelines” sections describe the general procedure on how to map the model that may be read by both intended audiences. The respective “Tutorial” sections are principally aimed at the technical experts and IT professionals.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:map-existing-model-to-cv"><a class="anchor" href="#sec:map-existing-model-to-cv"></a>Map an existing conceptual model to a Core Vocabulary (UC2.1)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sec:uc2.1-description"><a class="anchor" href="#sec:uc2.1-description"></a>Use case description</h3>
<div class="paragraph">
<p>Imagine different organisations using different words of the same language. One system refers to an “Organisation,” while another calls it a “LegalEntity.” Both are describing the same concept—but their data structures, labels, and assumptions differ slightly. Without a shared understanding, exchanging data between these organisations becomes error-prone, inconsistent, or simply impossible.</p>
</div>
<div class="paragraph">
<p>Let’s consider a scenario as <strong>motivation for the use case</strong> and the corresponding structured user story.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Sofía, a knowledge engineer working in the Department of Agriculture and Natural Resources, faces the problem of terminological overloading and mismatches. Her Fruits division uses a conceptual model that was developed to represent companies, directors, and contact details of fruit orchards and industrial forest agribusinesses, while a different one is used by the Vegetables division that needs to be aligned at a later date. To solve this, Sofía leads a project that <strong>maps her Fruits division’s model to the <a href="https://github.com/SEMICeu/Core-Business-Vocabulary">Core Business Vocabulary</a> (CBV)</strong>, a semantic standard developed by SEMIC.</p>
</div>
<div class="paragraph">
<p>Meanwhile, external platforms—such as international business directories, government data portals, and the Schema.org vocabulary used by major web platforms—represent similar concepts differently. So do the Chamber of Commerce and the Department of the Economy, from which she wants to use data.</p>
</div>
<div class="paragraph">
<p>Sofía recognises the widespread use of <a href="http://Schema.org">Schema.org</a>, and so she also wants to ensure that the <strong>CBV concepts she uses can be mapped to <a href="http://Schema.org">Schema.org</a>’s content</strong>. She can do this by creating semantic bridges between the models used in her division of the Department, CBV, and global vocabularies.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>User Story: As a</strong> knowledge engineer at the Department of Agriculture, <strong>I want</strong> <strong>to</strong> map my division’s existing conceptual model to the <a href="https://github.com/SEMICeu/Core-Business-Vocabulary">Core Business Vocabulary</a> (CBV) and align CBV concepts with <a href="http://Schema.org">Schema.org</a>, <strong>so that</strong> our data can be interoperable with both EU semantic standards and global web vocabularies, enabling accurate data exchange.</p>
</div>
<div class="paragraph">
<p>The business case translates into the following <strong>use case specification</strong>, which is instantiated from the <a href="introduction.html#sec:uc21" class="xref page">general UC2.1 description</a>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"><strong>Use Case UC 2.1: Map an existing conceptual model to a Core Vocabulary</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Goal:</strong>  Create a mapping between the terms of the CBV and Schema.org.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Primary Actors:</strong> Knowledge Engineer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Description:</strong> Create formal mappings between relevant terms in the CBV and Schema.org, availing of standard Semantic Web technologies and alignment tools, and implement the mappings. <br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sec:uc2.1-guidline"><a class="anchor" href="#sec:uc2.1-guidline"></a>Guidelines on how to map an existing conceptual model to a Core Vocabulary</h3>
<div class="paragraph">
<p>This section provides general guidelines to address use case <a href="introduction.html#sec:uc21" class="xref page">UC2.1</a>, mapping an ontology to a Core Vocabulary.</p>
</div>
<div class="paragraph">
<p>In this section we adopt the definitions from the ontology matching handbook [<a href="references.html#ref-54" class="xref page">om</a>] for the following concepts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Ontology matching process</strong>: given a pair of ontologies, a (possibly empty) input alignment that may help bootstrap the process, a set of parameters and additional resources, the process returns an alignment between these ontologies.</p>
</li>
<li>
<p><strong>Correspondence</strong>: given a pair of ontologies, a set of alignment relations (typically equivalence and subsumption) and a confidence structure for those alignments, then a correspondence is a 5-tuple consisting of an identifier of the correspondence, the two entities (one from each ontology), how the two entities relate, and a measure of the confidence in that alignment.</p>
</li>
<li>
<p><strong>Alignment</strong>: a set of correspondences between pairs of entities belonging to two ontologies.</p>
</li>
<li>
<p><strong>Mapping</strong>: a set of correspondences between pairs of entities belonging to two ontologies, and this mapping is satisfiable and does not lead to unsatisfiable entities in either of the two ontologies that are being matched.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To create an ontology mapping, the following steps need to be observed, as shown in the following diagram and described afterwards.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/UC21guidelineOverview.png" alt="UC21guidelineOverview" width="450" height="600">
</div>
<div class="title">Figure 1. Overview of the guidelines on how to map an existing conceptual model</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Staging</strong>: defining the requirements;</p>
</li>
<li>
<p><strong>Characterisation</strong>: defining source and target data and performing data analysis;</p>
</li>
<li>
<p><strong>Reuse</strong>: discover, and, if existing alignments are found, to evaluate and reuse existing alignments;</p>
</li>
<li>
<p><strong>Matching</strong>: execute and evaluate matching;</p>
</li>
<li>
<p><strong>Align and map</strong>: prepare, create the alignment, and render mappings;</p>
</li>
<li>
<p><strong>Validate</strong>: check whether the candidate alignments found are meaningful;</p>
</li>
<li>
<p><strong>Application</strong>: publish the mappings and establish governance of the mappings.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This section provides an overview of the guideline, which will be demonstrated in the <a href="#sec:tutorial:map-schema.org">tutorial</a> section where we map the Core Business Vocabulary to Schema.org. The reader familiar with ontology matching could skim or skip it and proceed swiftly to the tutorial section.</p>
</div>
<div class="sect3">
<h4 id="_phase_1_staging"><a class="anchor" href="#_phase_1_staging"></a>Phase 1: Staging</h4>
<div class="paragraph">
<p>This initial phase involves a comprehensive understanding of the project’s scope, identifying the specific goals of the mapping exercise, and the key requirements it must fulfil. Stakeholders collaborate to articulate the purpose of the alignment between the models, setting clear objectives that will guide the process. Defining these requirements upfront ensures that subsequent steps are aligned with the model matching process’ overarching goals, stakeholder expectations, and fitting the use cases.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Stakeholder knowledge, project goals, available resources, domain expertise. <br>
<strong>Outputs</strong>: Mapping project specification document comprising a well-defined scope and comprehensive list of requirements.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_2_characterisation"><a class="anchor" href="#_phase_2_characterisation"></a>Phase 2: Characterisation</h4>
<div class="paragraph">
<p>In this phase, a thorough analysis of both source and target ontologies is conducted to ascertain their structures, vocabularies, and the semantics they encapsulate. This involves an in-depth examination of the conceptual frameworks, representation languages, and the models. Understanding the models’ respective nuances is critical for identifying potential challenges and opportunities in the matching process to determine whether the process will be feasible and meaningful.</p>
</div>
<div class="paragraph">
<p>The following list of features is indicative, but not exhaustive, in this analysis: specifications’ documentation, representation language and representation formats, deprecation mechanism, inheritance policy (single inheritance only or multiple inheritance are also allowed), natural language(s) used, label specification, label conventions, definition specification, definition conventions, and version management and release cycles.</p>
</div>
<div class="paragraph">
<p>These features can have consequences for the mapping task. Let us illustrate three of them. For instance, the files being available in the same <strong>format</strong>, such as both in JSON-LD, simplifies declaring and implementing the mappings technically, whereas if they are in a different format, one will have to be converted into the other format, if it is possible to do so without loss of meaning. <br>
The <strong>natural language</strong> of the ontology or vocabulary refers to the rendering of the entities’ names or labels, which may be one language, multiple languages equally, one language mainly and others with partial coverage. For instance, the source ontology may have French and English labels for most elements that are identified by an identifier like XYZ:0012345, but either lapsed in translating a few terms or the developers could not find a suitable equivalent in one of the two, such as <em>Fleuve</em> and <em>Riviere</em> in French for which only <em>River</em> exists in English, and the target ontology could have element names in English only rather than identifiers with human-readable labels. If the source and target are in a different natural language, the task is not simply one of mapping entities, but also translating names, labels, and annotations of entities. <br>
An infrequently updated <strong>version</strong> can indicate either that it is a stable release or that it is not maintained, and the comparison thus depends on a broader setting that may be worthwhile to ascertain. Conversely, a frequently updated version is less stable, and it may even be the case that by the time a matching process is completed with one version, a new version has been released that might require an update to the mapping.</p>
</div>
<div class="paragraph">
<p>Depending on the feature, one will have to inspect either the computer-processable file or the dedicated documentation that describes it, or both.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Source and target ontologies, requirements, and any business or domain constraints.<br>
<strong>Outputs</strong>: Analysis reports comprising a comparative characterisation table, identified difficulties, risks and amenability assessments, selected source and target for mapping.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_3_reuse"><a class="anchor" href="#_phase_3_reuse"></a>Phase 3: Reuse</h4>
<div class="paragraph">
<p>In the ontology matching lifecycle, the reuse phase is important in that it can facilitate the integration of already existing mappings into the project&#8217;s workflow, thereby saving work and positioning one’s ontology better within the existing ecosystem. Following the initial characterisation, this phase entails the discovery and evaluation of available mappings against the project&#8217;s defined requirements. These requirements are instrumental in appraising whether an existing alignment can be directly adopted, requires modifications for reuse, or if a new alignment should be declared.</p>
</div>
<div class="paragraph">
<p>Ontology alignments are often expressed in Alignment Format (AF) [<a href="references.html#ref-78" class="xref page">af</a>] or Expressive and Declarative Ontology Alignment Language (EDOAL) [<a href="references.html#ref-61" class="xref page">edoal</a>, <a href="references.html#ref-58" class="xref page">al-api</a>].</p>
</div>
<div class="paragraph">
<p>The outcome of this activity can be either of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>direct reuse</strong> of mappings that are immediately applicable,</p>
</li>
<li>
<p><strong>adaptive reuse</strong> where existing mappings provide a partial fit and serve as a basis for refinement of the mapping, and</p>
</li>
<li>
<p>the initiation of a <strong>new alignment</strong> when existing resources are not suitable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This structured approach to reuse optimises resource utilisation, promotes efficiency, and tailors the mapping process to the project&#8217;s unique objectives.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Repository of existing alignments for the source and target ontologies, evaluation criteria based on requirements.<br>
<strong>Outputs</strong>: Assessment report on existing alignments, decisions on reuse, adaptation, or creation of a new alignment.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_4_execute_the_matching"><a class="anchor" href="#_phase_4_execute_the_matching"></a>Phase 4: Execute the Matching</h4>
<div class="paragraph">
<p>This section summarises automatic and semi-automatic approaches to finding the alignment candidates. In case of small vocabularies and ontologies, a fully manual effort is likely more efficient.</p>
</div>
<div class="paragraph">
<p>Utilising both automated tools and manual expertise, this phase focuses on identifying potential correspondences between entities in the source and target models. The matching process may employ various methodologies, including semantic similarity measures, pattern recognition, or lexical analysis, to propose candidate alignments. These candidates are then evaluated for their accuracy, relevance, and completeness, ensuring they meet the requirements and are logically sound. This phase consists of three main activities: planning, execution, and evaluation.</p>
</div>
<div class="paragraph">
<p>In the <strong>planning</strong> activity, the approach to ontology matching is strategised, which encompasses selecting appropriate methods with their algorithms and tools, fine-tuning parameters, determining thresholds for similarity and identity functions, and setting evaluative criteria. These preparations are informed by a thorough understanding of the project&#8217;s requirements and the outcomes of previous reuse evaluations.</p>
</div>
<div class="paragraph">
<p>Numerous well-established ontology matching algorithms have been extensively reviewed in the literature (for a review and in-depth analysis, see [<a href="references.html#ref-60" class="xref page">om-lr</a>, <a href="references.html#ref-54" class="xref page">om</a>]). The main categories of ontology matching techniques are listed below in the order of their relevance to this handbook:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Terminological</strong> techniques draw on the textual content within ontologies, such as entity labels and comments, employing methods from natural language processing and information retrieval, including string distances and statistical text analysis.</p>
</li>
<li>
<p><strong>Structural</strong> techniques analyse the relationships and constraints between ontology entities, using methods like graph matching to explore the topology of ontology structures.</p>
</li>
<li>
<p><strong>Semantic</strong> techniques apply formal logic and inference to deduce the implications of proposed alignments, aiding in the expansion of alignments or detection of conflicts.</p>
</li>
<li>
<p><strong>Extensional</strong> techniques compare entity sets, or instances, potentially involving analysis of shared resources across ontologies to establish similarity measures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Next, the <strong>execution</strong> activity implements the chosen matchers. Automated or semi-automated tools are deployed to carry out the matching process, resulting in a list of candidate correspondences. This list typically includes suggested links between elements of the source and target ontologies, each with an associated confidence level computed by the algorithms [<a href="references.html#ref-61" class="xref page">edoal</a>]. A language for expressing such correspondences is commonly used to declare these potential alignments.</p>
</div>
<div class="paragraph">
<p>Finally, in the <strong>evaluation</strong> activity, the alignments found are rigorously assessed on their suitability. The evaluation measures the alignments against the project’s specific needs, scrutinising their accuracy, relevance, and alignment with the predefined requirements, so that  only the most suitable alignments are carried forward for the creation of a mapping, thereby upholding the integrity and logical soundness of the matching process.</p>
</div>
<div class="paragraph">
<p><strong>Tools</strong>: Tools such as SILK [<a href="references.html#ref-62" class="xref page">silk</a>], LIMES [<a href="references.html#ref-76" class="xref page">limes</a>], and LogMap [<a href="references.html#ref-77" class="xref page">logmap</a>] may be used in this phase.<br>
<strong>Inputs</strong>: Matcher configurations, additional resources (if any), correspondences from previous matching iterations (if any).<br>
<strong>Outputs</strong>: Generated alignments, evaluation reports.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_5_validate_alignments"><a class="anchor" href="#_phase_5_validate_alignments"></a>Phase 5: Validate Alignments</h4>
<div class="paragraph">
<p>Following the identification of alignments, this step involves the formal creation of the alignment and the rendering (generation) of specific mappings between the source and target models. This phase involves preparing, creating, and rendering activities that establish coherent actionable mappings between ontology entities. The resulting alignment is then documented, detailing the rationale, methods used, and any assumptions made during the mapping process.</p>
</div>
<div class="paragraph">
<p>The alignment process may include engaging communication with third parties to validate the alignment. Furthermore, the process has technical implications that should be evaluated upfront, such as the machine interpretation and execution of the mapping.</p>
</div>
<div class="paragraph">
<p><strong>Preparation</strong> involves stakeholder involvement to collectively go systematically through the list of alignments (candidate mappings), considering not only the relevance of the alignments, but also the type of relationship between the elements, being typically either equivalence or subsumption. <br>
The type of asset—an ontology, controlled list, or data shape—dictates the nature of the relationship that can be rendered from the alignment. The types of alignment are visually represented and illustrated in the figure below and summarised and structured in the table afterwards. They include alignment elements for OWL elements concerning semantic artefacts and for SKOS, which can be used for annotations and weakly semantic knowledge organisation systems.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/alignmentDiagram.png" alt="alignmentDiagram" width="500" height="600">
</div>
<div class="title">Figure 2. Visualisation of various types of alignments</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Relation / Element type</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Concept</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Class</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Individual</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>=</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:equivalentProperty; owl:sameAs</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">skos:exactMatch; skos:closeMatch</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:equivalentClass; owl:sameAs</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:sameAs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>&gt;</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">skos:narrowMatch</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>&lt;</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:subPropertyOf</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">skos:broadMatch</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:subClassOf</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>%</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:propertyDisjointWith</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:disjointWith</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:differentFrom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>instanceOf</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdf:type</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">skos:broadMatch; rdf:type</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdf:type</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdf:type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>hasInstance</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">skos:narrowMatch</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The table is indicative of the variety of semantic connections that can be realised, including equivalence, subclass, disjointness, and type instantiation. This nuanced preparation is key to ensuring that the final alignment and mapping reflect the project’s semantic requirements and scope accurately.</p>
</div>
<div class="paragraph">
<p>The <strong>Creation</strong> step is the execution of the mapping, entailing the selection of the relation, and assertion of the mapping. This activity involves human intervention and the selection is conducted manually according to the project’s objectives and semantic appropriateness of the candidate mapping.</p>
</div>
<div class="paragraph">
<p><strong>Rendering</strong> translates the mapping in a machine-readable format so that it can be interpreted and executed by software agents. Typically, this is a straight-forward export of the alignment statements from the editing tool or the materialisation of the mapping in a triple store, using a common format, such as Alignment Format [<a href="references.html#ref-78" class="xref page">af</a>], EDOAL [<a href="references.html#ref-61" class="xref page">edoal</a>], Simple Standard for Sharing Ontological Mapping (SSSOM) [<a href="references.html#ref-79" class="xref page">sssom</a>], and the Semantic Mapping Vocabulary (SEMAPV) [<a href="references.html#ref-80" class="xref page">semapv</a>] for the mapping justification values. Multiple renderings may be created from the same alignment, accommodating the need for various formalisms.</p>
</div>
<div class="paragraph">
<p><strong>Tools</strong>: Tools such as VocBench3 [<a href="references.html#ref-63" class="xref page">vocbench</a>] can be used in this phase, or generic office tools, such as MS Excel, Google Sheets spreadsheets, or a LibreOffice spreadsheet. <br>
<strong>Inputs</strong>: Evaluated correspondences (the alignments), stakeholders' amendment plans, requirements for the formalism of the mapping so that the mapping assertions integrate with the modelling language used.<br>
<strong>Outputs</strong>: Created mapping, stored versions in an alignment repository (e.g., [<a href="references.html#ref-55" class="xref page">sem-map</a>]).</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_6_application"><a class="anchor" href="#_phase_6_application"></a>Phase 6: Application</h4>
<div class="paragraph">
<p>The final phase focuses on operationalising the created mappings, ensuring it is accessible and usable by applications that require semantic interoperability between the mapped models. This involves carrying out the following tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Publish the mappings in the standardised, machine-readable format obtained from Phase 5, and</p>
</li>
<li>
<p>Establish mechanisms for maintaining, updating, and governing the alignment, facilitating its long-term utility and relevance.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Regarding the second task, governance involves the creation of <strong>maintenance protocols</strong> to preserve the alignment&#8217;s relevance over time. This includes procedures for regular updates in response to changes in ontology structures or evolving requirements, as well as governance mechanisms to oversee these adaptations. As the mapping is applied, new insights may emerge, prompting discussions within the stakeholder community about potential refinements or the development of a new iteration of the mapping. Due to the dynamic nature of data sources, the application phase serves both as an endpoint, as well as a foundation for continuous improvement. Some processes may be automated to enhance efficiency, such as the monitoring of ontologies for changes that would necessitate mapping updates.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Finalised mappings, application context, feedback mechanisms.<br>
<strong>Outputs</strong>: Applied mappings in use, insights from application, triggers for potential updates, governance actions for lifecycle management.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:tutorial:map-schema.org"><a class="anchor" href="#sec:tutorial:map-schema.org"></a>Tutorial: Map Schema.org to the Core Business Vocabulary</h3>
<div class="paragraph">
<p>This tutorial demonstrates how to map <a href="http://Schema.org">Schema.org</a> to the <a href="https://github.com/SEMICeu/Core-Business-Vocabulary">Core Business Vocabulary</a> <strong>(CBV)</strong>, addressing <strong>Use Case</strong> <a href="introduction.html#sec:uc21" class="xref page">UC2.1</a>. By following <a href="#sec:uc2.1-guidline">map an existing model</a> <strong>methodology</strong>, you’ll learn how to align these two vocabularies step-by-step—covering <strong>staging, characterisation, reuse, matching, alignment, and application</strong>—to ensure interoperability between the CBV and Schema.org.</p>
</div>
<div class="sect3">
<h4 id="_phase_1_staging_defining_the_requirements"><a class="anchor" href="#_phase_1_staging_defining_the_requirements"></a>Phase 1: Staging (Defining the Requirements)</h4>
<div class="paragraph">
<p>In this phase, the aim is to understand what needs to be mapped and why.<br>
For this tutorial, we aim to map <a href="http://Schema.org">Schema.org</a> to the Core Business Vocabulary (CBV), enabling data interoperability.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Determine the purpose of the mapping project</strong>: What are the key areas of business data that need to be interoperable between CBV and Schema.org? This is carried out in collaboration with stakeholders.</p>
</li>
<li>
<p><strong>Define scope of the mapping for the model and selected CV</strong>: What parts of the Core Business Vocabulary need to be mapped to Schema.org? Are there specific concepts (e.g., contact point, organisation) that must be represented? Which version of each ontology or vocabulary will be mapped?</p>
</li>
<li>
<p><strong>Set specific goals of what the mapping needs to achieve</strong>: Define the intended specific outcomes of the mapping. Besides ensuring semantic alignment between CBV and Schema.org entities, a key goal may be to clarify the relationship between
<span class="custom-highlight"><a href="https://semiceu.github.io/Core-Business-Vocabulary/releases/2.00/#Legal%20Entity">legal:LegalEntity</a></span> and
<span class="custom-highlight"><a href="https://schema.org/Organization">schema:Organization</a></span> (Issue <a href="https://github.com/SEMICeu/Core-Business-Vocabulary/issues/38">#38</a>), or to declare a particular equivalence between a CBV and a Schema.org entity to query across information systems to retrieve data.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="paragraph">
<p>A short project specification that defines the purpose of the mapping, its scope, and expected outcomes. For this tutorial, the output is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Purpose</strong>: Enable semantic interoperability between business-related data models using CBV and <a href="http://Schema.org">Schema.org</a>.</p>
</li>
<li>
<p><strong>Scope</strong>: Map the CBV (source) concepts to <a href="http://Schema.org">Schema.org</a> (target):</p>
<div class="ulist">
<ul>
<li>
<p><span class="custom-highlight">legal:LegalEntity</span> → <span class="custom-highlight">schema:Organization</span></p>
</li>
<li>
<p><span class="custom-highlight">m8g:Address</span> → <span class="custom-highlight">schema:PostalAddress</span></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Goal</strong>: Allow transformation of CBV-compliant data into Schema.org format for reuse.</p>
</li>
<li>
<p><strong>Expected Outcome</strong>: A validated alignment file that specifies the relationships between the selected CBV and Schema.org terms in machine-readable RDF.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p>The purpose, scope, and goals are determined by the stakeholders, including domain experts and knowledge engineers. First, the domain experts’ input is needed to demarcate the scope especially, indicating what the (sub-)topic of interest is, ideally augmented with key terms. For CBV and Schema.org, these may include terms such as: <span class="custom-highlight">legal:LegalEntity</span> versus <span class="custom-highlight">schema:Organization</span>. It may also need to take into account ‘externalities’, such as regulatory compliance that may dictate the use of one version of a schema over another for some business reason. For the current exercise, there are no regulatory compliance requirements in place. Therefore, the latest official releases of both vocabularies will be used (Schema.org version 29.1 and CBV version 2.2.0). Next, clear mapping goals should be established. For this exercise, the primary goal is to identify direct relationships between the two vocabularies. These relationships will then be expressed in a machine-readable format, enabling seamless data transformation between the CBV and Schema.org.</p>
</div>
</div>
<div class="sect3">
<h4 id="sec:Characterisation"><a class="anchor" href="#sec:Characterisation"></a>Phase 2: Characterisation (Defining Source and Target models)</h4>
<div class="paragraph">
<p>The aim of this phase is to analyse the structure, vocabulary, and semantics of the Core Business Vocabulary that we shall take as <strong>Target ontology</strong> and Schema.org that will be set as <strong>Source ontology</strong>. The key steps and outputs are as follows.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Examine both ontologies for:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Entity structures, definitions, and formats.</p>
</li>
<li>
<p>Deprecation policies and inheritance mechanisms, natural language(s) used, label specification, label conventions, definition specification, definition conventions, version management and release cycles, etc.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A comparison in the form of a table</p>
</li>
<li>
<p>Optionally: a brief report containing a list of obstacles that need to be overcome before model matching can take place</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p>First, list the features on which to compare the source and the target, which concerns principally the ‘meta’ information, that is  information <em>about</em> the artefacts themselves, rather than their  subject domain content. This includes typical features such as the artefacts’ serialisation format(s), terms’ naming conventions, and version management. These features can either hinder or support the mapping task.</p>
</div>
<div class="paragraph">
<p>Let’s consider three of them and consider how they apply  to our case.:<br>
1) Are the files available in the same <strong>format</strong>? This is indeed the case for CBV and Schema.org, and even leaves the choice for using their RDF or JSON-LD format.<br>
2) The <strong>natural language</strong> of CVB and Schema.org, that is, the rendering of the entities’ names and labels, are both in one language, and so translating entities’ names is not needed<br>
3) Regarding frequency of <strong>version</strong> updates, there is a notable difference. CBV is relatively stable with two main releases, whereas Schema.org has frequent releases and it is currently in its 29th main release cycle. <br>
The selected features are presented  in a table below, where for each feature the corresponding values for  CBV and Schema.org are provided for comparison. For the CBV and Schema.org metadata comparison, we had to consult the documentation, the developer release pages, and directly inspect the available files.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong><em>Feature</em></strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Core Business Vocabulary</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Schema.org</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Specification</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">HTML document</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">HTML document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Computer processable formats</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">UML, RDF, JSON-LD, SHACL</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">OWL, RDF (ttl, rdf/xml), CSV, JSON-LD, NQ, NT, SHACL, SHEXJ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Inheritance</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Single inheritance</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Multiple inheritance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Label</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:label, shacl:name (within SHACL shapes)</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Naming scheme</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">CamelCase for classes (e.g., LegalEntity) and lowerCamelCase for properties</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">CamelCase for classes (e.g., EducationalOrganization) and lowerCamelCase for properties</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Label formatting</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">With spaces (e.g., Legal Entity)</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">In CamelCase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Language</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">English</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">English</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Deprecation</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Definitions</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:comment, shacl:description within SHACL shapes</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Written in rdfs:comment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Latest version inspected</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Latest (v 2.0.0, 6-5-2024). 1 or 2 releases per year</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">29.0 (24-3-2025). 1 or 2 releases per year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><em>Developer location</em></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><a href="https://github.com/SEMICeu/Core-Business-Vocabulary">https://github.com/SEMICeu/Core-Business-Vocabulary</a></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><a href="https://schema.org/docs/developers.html">https://schema.org/docs/developers.html</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_phase_3_reuse_of_existing_mappings"><a class="anchor" href="#_phase_3_reuse_of_existing_mappings"></a>Phase 3: Reuse of Existing Mappings</h4>
<div class="paragraph">
<p>The aim of this phase is to avoid doing duplicate work by checking if any existing mappings between CBV and Schema.org are available for reuse, or if there are any alignments that can be adapted for this project.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Search for Existing Alignments</strong>: Looking for any pre-existing alignments that may have been created by others or as part of previous work by consulting the <a href="https://github.com/SEMICeu">SEMIC GitHub repository</a> for relevant mappings.</p>
</li>
<li>
<p><strong>Evaluate Reusability</strong>: Determine whether these existing alignments meet your project’s requirements. If they do, they can be reused directly.</p>
</li>
<li>
<p><strong>Adapt Existing Alignments</strong>: If the existing alignments are close, but need modification, adapt them to suit the specific project goals.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A document listing:</p>
<div class="ulist">
<ul>
<li>
<p>Which type of alignment was chosen for which existing alignments.</p>
</li>
<li>
<p>The decisions: A new alignment needs to be created.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p>There are three distinct pathways, namely: direct use, adaptive reuse, and creating a new alignment. Let’s look at each in turn. For the CBV and Schema.org, we first look for pre-existing alignments of related vocabularies. They may be declared in the files themselves, but we also can search the <a href="https://github.com/SEMICeu">SEMIC GitHub repository</a> for other files that may have relevant mappings already.</p>
</div>
<div class="paragraph">
<p>In the SEMIC repository, there are several vocabularies that have alignments to Schema.org already, which may be reusable. They are listed in the following table, along with the location and the latest version  available at the the day of the exercise  (recall the <a href="./how-to-map-existing-data-models.adoc#sec:Characterisation">Source and Target Characterisation</a> above).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Mapping From</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Mapping To</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Location</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Version</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>CBV</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Schema.org</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><u>https://github.com/SEMICeu/Semantic-Mappings/tree/main/Core%20Business</u></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">CBV v2.2.0 – Schema.org v29.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We then look at the intersection of CBV concepts and relationships and those in Schema.org. If there are shared or closely related terms, we check whether a mapping already exists between those specific elements. This takes us to the <em>Evaluate reusability</em> step: and if it is an agreeable mapping between the two entities, we can reuse that mapping. Alternatively, it may be the case of adaptive reuse, which involves refinements to better suit the mapping objectives.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Example: An existing alignment for LegalEntity to Organization was evaluated. However, it was missing relationships for properties like <span class="custom-highlight">schema:legalName</span> and <span class="custom-highlight">schema:taxID</span>. So, the original alignment was extended to include new mappings for these properties. There may also be new alignments when existing resources are not suitable, which is the case for this tutorial.</p>
</li>
<li>
<p>Example: Add alignment to answer the question: What is the relation between
<span class="custom-highlight"><a href="https://semiceu.github.io/Core-Business-Vocabulary/releases/2.00/#Legal%20Entity">legal:LegalEntity</a></span> and <span class="custom-highlight"><a href="https://schema.org/Organization">schema:Organization</a></span>?</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_phase_4_matching_execute_and_filter_matching_candidates"><a class="anchor" href="#_phase_4_matching_execute_and_filter_matching_candidates"></a>Phase 4: Matching (Execute and Filter Matching Candidates)</h4>
<div class="paragraph">
<p>At this step, we will perform the actual mapping, which we shall bootstrap by producing candidate mappings between classes and between properties, typically automatically, semi-automatically, or manually, and then assess the results.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Select Matching Technique</strong>: Decide on a method for automatically or semi-automatically matching entities.</p>
</li>
<li>
<p><strong>Perform Matching</strong>: Prepare the inputs and use the chosen tool to generate potential matches between CBV and Schema.org entities.</p>
</li>
<li>
<p><strong>Candidate Evaluation</strong>: The knowledge engineer assesses the candidate correspondences for their consistency, accuracy, relevance, and alignment with the project’s requirements, which involves human evaluation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>List of alignments.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p>In this tutorial, we use <a href="http://limes.sf.net">LIMES</a> [<a href="references.html#ref-76" class="xref page">limes</a>] to automate link discovery in the mapping process between the <strong>CBV</strong> and <strong>Schema.org</strong>. While other tools could also be used, LIMES was selected for its simplicity and efficiency in performing lexical similarity-based alignments.</p>
</div>
<div class="paragraph">
<p><em>Set Up Data Sources</em></p>
</div>
<div class="paragraph">
<p>Preparing the data sources depends on the files and the alignment tool chosen. To support  this, the table of features compiled in Phase 2 is useful. It indicates whether alignment should be run on class names or labels, specifies the file format, and notes any algorithmic peculiarities, such as a similarity threshold. For our use case, we begin by configuring the <strong>SPARQL endpoints</strong>, which allow us to extract the relevant classes and properties for comparison. We focus on aligning entities by their <strong>rdfs:label</strong> whose value is the name or description of the entity, which is the most straightforward way to identify potential mappings.</p>
</div>
<div class="paragraph">
<p><em>Apply Matching Algorithm</em></p>
</div>
<div class="paragraph">
<p>LIMES uses a <strong>similarity metric</strong> to compare the <strong>rdfs:label</strong> values of entities from both files. This metric generates similarity scores based on the string matching of the labels and, optionally, their descriptions.</p>
</div>
<div class="paragraph">
<p><em>Analyse Results</em></p>
</div>
<div class="paragraph">
<p>Tools such as LIMES and Silk do not determine the semantic nature of the match (e.g., equivalence vs. subclass). They only suggest candidate pairs based on similarity metrics. It is up to the human expert to choose the appropriate relation, using knowledge of the domain and the ontology documentation. Once the matching process is complete, we inspect the results. In the case of the CBV and Schema.org alignment, <strong>no matches were found with LIMES</strong>, which  means that no significant similarities were identified  between entities based on the chosen similarity metric. Consequently, we need to either try with another alignment tool or manually review and align the entities. While we opt for the latter, let us first illustrate how the output would look if there had been potential matches. The LIMES output includes three key columns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Source entity: a URI from the target ontology (e.g., <a href="http://Schema.org">Schema.org</a>).</p>
</li>
<li>
<p>Target entity: a URI from the source ontology (e.g., CBV).</p>
</li>
<li>
<p>Similarity score: a numerical value (typically from 0 to 1) indicating the strength of the lexical similarity between the two entities.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/limes.png" alt="limes">
</div>
<div class="title">Figure 3. Screenshot of computed similarity scores</div>
</div>
<div class="paragraph">
<p><em>Manual Alignment Process</em></p>
</div>
<div class="paragraph">
<p>Even though the automated tool did not produce any alignments, we can use our domain knowledge to suggest potential mappings based on the descriptions and attributes of the entities. For example, CBV’s <span class="custom-highlight">LegalEntity</span> (that is an <span class="custom-highlight">org:Organization</span>) maps to Schema.org’s <span class="custom-highlight">Organization</span> based on their similar roles in representing business-related concepts, and likewise for CBV’s <span class="custom-highlight">Address</span> (imported from Core Location Vocabulary) with Schema.org <span class="custom-highlight">PostalAddress</span>. These kinds of alignments are made by examining the entity definitions and considering the context of their use in each ontology.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_5_validate_alignments_2"><a class="anchor" href="#_phase_5_validate_alignments_2"></a>Phase 5: Validate Alignments</h4>
<div class="paragraph">
<p>After the alignments (i.e., candidate mappings) have been generated—either by automated tools or through manual assessment—each proposed mapping must be <strong>validated</strong> to assess if  the candidate links represent semantically meaningful relationships between classes or properties from the two ontologies.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Confirm candidate correspondences with domain experts</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Review proposed alignments</p>
</li>
<li>
<p>Decide on the appropriate semantic relation. Common types that we focus on here include:</p>
<div class="ulist">
<ul>
<li>
<p>Equivalence: When two entities are conceptually and functionally the same → rendered as owl:equivalentClass or owl:equivalentProperty</p>
</li>
<li>
<p>Subsumption: When one entity is more specific than the other (i.e., subclass or subproperty) → rendered as rdfs:subClassOf or rdfs:subPropertyOf</p>
</li>
</ul>
</div>
</li>
<li>
<p>Formalise the alignment into a mapping following conventions from the <a href="https://moex.gitlabpages.inria.fr/alignapi/format.html">Alignment format</a> or <a href="https://moex.gitlabpages.inria.fr/alignapi/edoal.html">EDOAL</a>.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Render Mappings in a Machine-Readable Format</strong>. The mapping file can be rendered in RDF/XML, Turtle, or other formats like <strong>JSON-LD</strong>, depending on the tool or system in use. The choice of format should align with the needs of the stakeholders and the technical requirements of the project. While RDF/XML is a standard format for machine-readable ontology representations, it may not be ideal for human consumption due to its complexity. However, RDF/XML (or other syntaxes such as Turtle) is often used in formal contexts for consistency and integration with other semantic web tools. If ease of use for human review is desired, a <strong>Graphical User Interface (GUI)</strong> or tools that visualise RDF data can provide a more intuitive way to view and edit mappings.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Final alignment in RDF for integration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p><em>Review Proposed Alignments</em></p>
</div>
<div class="paragraph">
<p>Each candidate correspondence is checked for correctness and relevance. For CBV and Schema.org, we use a manual inspection by ontology engineers first, which includes cross-referencing documentation or definitions. CBV’s <span class="custom-highlight">LegalEntity</span> is “<em>A self-employed person, company, or organisation that has legal rights and obligations</em>” and Schema.org’s <span class="custom-highlight">Organization</span> is “<em>An organization such as a school, NGO, corporation, club, etc.</em>”. For <span class="custom-highlight">Address</span>, the descriptions are as follows: <em>“A spatial object that in a human-readable way identifies a fixed location”</em> with a usage note indicating it to be understood as a postal address, and “<em>The mailing address</em>”, respectively.</p>
</div>
<div class="paragraph">
<p><em>Decide the Appropriate Semantic Relation</em></p>
</div>
<div class="paragraph">
<p>For each validated candidate pair, determine the type of semantic relation.</p>
</div>
<div class="paragraph">
<p>For our running example, CBV’s <span class="custom-highlight">LegalEntity</span> is almost the same as Schema.org’s <span class="custom-highlight">Organization</span>, but the latter does not have the “legal rights” constraint, and therefore, the appropriate semantic relation is that of <em>subsumption</em>. For the respective addresses, while CBV’s imported <span class="custom-highlight">Address</span>’ definition is broader than <span class="custom-highlight">PostalAddress</span>, and therefore suggesting a subsumption alignment as well, taking into account CBV’s usage note, it can be an <em>equivalence</em> alignment.</p>
</div>
<div class="paragraph">
<p><em>Formalise the Alignment</em></p>
</div>
<div class="paragraph">
<p>Once the relation is chosen, each alignment is encoded as a <strong>machine-readable RDF triple</strong>, typically in RDF/XML or Turtle format, suitable for integration and reuse. <br>
The <strong>result</strong> is a validated alignment file, where each mapping is represented based on the <a href="https://moex.gitlabpages.inria.fr/alignapi/format.html">Alignment Format</a> or an extension thereof, such as <a href="https://moex.gitlabpages.inria.fr/alignapi/edoal.html">EDOAL</a>, as an <code>align:Cell</code> with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The aligned entities (<code>align:entity1</code> and <code>align:entity2</code>)</p>
</li>
<li>
<p>The chosen relation (<code>align:relation</code>), being either subsumption “&lt;” or equivalence “=”</p>
</li>
<li>
<p>An optional confidence measure</p>
</li>
<li>
<p>Its corresponding meaning in the ontology (owl:annotatedProperty)</p>
</li>
<li>
<p>Further information on a mapping justification, which reuses the Simple Standard for Sharing Ontological Mapping <a href="https://w3id.org/sssom/">SSSOM </a>that, in turn, reuses the Semantic Mapping Vocabulary <a href="https://mapping-commons.github.io/semantic-mapping-vocabulary/">SEMAPV</a> for the mapping justification values. Example output of adding an alignment between <span class="custom-highlight"><a href="https://semiceu.github.io/Core-Business-Vocabulary/releases/2.00/#Legal%20Entity">legal:LegalEntity</a></span> and <span class="custom-highlight"><a href="https://schema.org/Organization">schema:Organization</a></span>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-turtle hljs" data-lang="turtle">http://mapping.semic.eu/business/sdo/cell/21 a align:Cell;
align:entity1 http://www.w3.org/ns/legal#LegalEntity;
align:entity2 https://schema.org/Organization;
align:relation "&lt;";
align:measure "1"^^xsd:float;
owl:annotatedProperty rdfs:subClassOf;
sssom:mapping_justification semapv:MappingReview .</code></pre>
</div>
</div>
<div class="paragraph">
<p>where it can be seen that the “&lt;” relation corresponds to rdfs:subClassOf and the mapping justification is MappingReview, which is as approved as it can be in SEMAPV terminology. <br>
Other alignment examples and a complete file including prefixes can be viewed <a href="https://github.com/SEMICeu/Semantic-Mappings/blob/main/Core%20Business/Schema.org/Alignment-CoreBusiness-2.2.0-schemaorg.ttl">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_6_application_operationalise_the_mappings"><a class="anchor" href="#_phase_6_application_operationalise_the_mappings"></a>Phase 6: Application (Operationalise the Mappings)</h4>
<div class="paragraph">
<p>After alignments have been validated, the final step is to <strong>apply</strong> them in practice. This involves both <strong>technical integration</strong> and the establishment of a <strong>governance framework</strong> to ensure the mappings remain up to date and useful over time.</p>
</div>
<div class="paragraph">
<p><em>Steps</em></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Publish the Mappings</strong>: Share the mappings in a standard format via a repository.</p>
</li>
<li>
<p><strong>Integrate and Test</strong>: Deploy the mappings in semantic web tools or data integration workflows.</p>
</li>
<li>
<p><strong>Establish Governance</strong>: Define a process for updating the mappings in response to changes in the source or target ontologies.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Published mappings and insights for potential refinements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Procedure for CBV and Schema.org</strong></p>
</div>
<div class="paragraph">
<p>The mapping file (in RDF/Turtle format) resulting from our mapping exercise is <strong>published</strong> on the <a href="https://github.com/SEMICeu/Semantic-Mappings/tree/main/Core%20Business">SEMIC GitHub repository</a>. This allows for integration of the mapping output into validation tools used by Member States and other implementers to check CBV-compliant data against Schema.org requirements.</p>
</div>
<div class="paragraph">
<p>For <strong>testing</strong>, one could attempt to load the files in an editor that can read in the file of the chosen format, being Turtle for CBV, the Turtle version of Schema.org, and the alignment file, or run it through a syntax validator to verify that all is in order for deployment.</p>
</div>
<div class="paragraph">
<p>The <strong>governance structure</strong> for the ‘model mapped to CV’ is, in principle, on the side of the model. Practically, for this case with CBV and its mapping to Schema.org, both have an interest in governing it. From the CBV side, SEMIC is responsible for regularly monitoring updates in CBV vocabulary and Schema.org (e.g., new classes, renamed terms, deprecated elements) and applying updates where needed, ensuring that logged issues are addressed, and verifying that all links and namespaces remain functional. SEMIC is also expected to consider updates to CBV driven by evolving requirements (e.g., to make CBV multilingual) and plan any necessary  changes accordingly, including assessing their potential impact on the mappings with Schema.org.</p>
</div>
<div class="paragraph">
<p><em>Real Example Using SPARQL Anything</em></p>
</div>
<div class="paragraph">
<p>To demonstrate the practical value of the mapping between CBV and Schema.org, we use <a href="https://github.com/SPARQL-Anything/sparql.anything">SPARQL Anything</a> to query instance data alongside the alignment file.</p>
</div>
<div class="paragraph">
<p>*Scenario: * We assume</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A data file (<code>core-business-ap.ttl</code>) contains an instance of <span class="custom-highlight">legal:LegalEntity</span></p>
</li>
<li>
<p>An alignment file (<code>Alignment-CoreBusiness-2.2.0-schemaorg.ttl</code>) defines a mapping from <span class="custom-highlight">legal:LegalEntity</span> to <span class="custom-highlight">schema:Organization</span>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>SPARQL Query</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">PREFIX xyz:   &lt;http://sparql.xyz/facade-x/data/&gt;
PREFIX legal: &lt;http://www.w3.org/ns/legal#&gt;
PREFIX align: &lt;http://knowledgeweb.semanticweb.org/heterogeneity/alignment#&gt;
PREFIX rdf:   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;

CONSTRUCT {
  ?s a ?entity2 .
}
WHERE {
  SERVICE x-sparql-anything:app/core-business-ap.ttl {
    ?s a ?entity1 .
  }
  SERVICE x-sparql-anything:app/Alignment-CoreBusiness-2.2.0-schemaorg.ttl {
    ?align a align:Cell ;
           align:entity1 ?entity1 ;
           align:entity2 ?entity2 .
    FILTER (?entity1 = legal:LegalEntity)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>What This Query Does</em></p>
</div>
<div class="paragraph">
<p>It checks for instances of <span class="custom-highlight">legal:LegalEntity</span> in the data file, and if the alignment file contains a mapping for it, it infers the equivalent or related Schema.org class (<span class="custom-highlight">schema:Organization</span>).</p>
</div>
<div class="paragraph">
<p><em>Output</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-turtle hljs" data-lang="turtle">&lt;http://example.org/entities/Company123&gt; a &lt;https://schema.org/Organization&gt; .</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:map-existing-shema"><a class="anchor" href="#sec:map-existing-shema"></a>Map an existing XSD Schema to a Core Vocabulary (UC2.2)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sec:uc2.2-description"><a class="anchor" href="#sec:uc2.2-description"></a>Use case description</h3>
<div class="paragraph">
<p>Let’s introduce the <strong>motivation for the use case</strong> for Use Case 2.2 with a scenario and structured user story.<br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Ella works as a <strong>data integration specialist</strong> at the National Registry of Certified Legal Practitioners. For over a decade, her team has maintained a robust system for managing, among others, all law firms’ data in <strong>XML format</strong>, supported by an <strong>XSD schema</strong>. This schema defines the structure of all XML documents generated and processed by the registry, capturing details such as legal entities, addresses, and contact points. It’s stable, reliable, and embedded into the internal tool and data exchange interface the organisation uses. But governments across Europe are requested to align their digital data infrastructures with <strong>Semantic Web standards</strong> with the goal to make public sector data <strong>interoperable, discoverable, and reusable</strong> across borders. Ella&#8217;s National Registry has received a directive to publish its business data in <strong>RDF</strong>, using the SEMIC <strong>Core Business Vocabulary (CBV)</strong>, which is already used in EU-level platforms.</p>
</div>
<div class="paragraph">
<p>To meet this requirement, Ella must map the Registry’s <strong>existing XSD schema to the CBV</strong> and transform their XML data into RDF.<br></p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>User Story: As a</strong> data integration specialist at a public sector organisation, <strong>I want to</strong> map our existing XML Schema Definition (XSD) to the Core Business Vocabulary (CBV), <strong>so that</strong> I can transform our XML data into semantically enriched RDF that complies with European interoperability standards, supports linked data publication, and enables cross-system data exchange.<br></p>
</div>
<div class="paragraph">
<p>This business case translates into the following <strong>use case specification</strong>, which is instantiated from the <a href="introduction.html#sec:uc22" class="xref page">general UC2.2 description</a>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Use Case UC 2.2: Map an existing XSD Schema to a Core Vocabulary</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Goal:</strong> Map the National Registry of Certified Legal Practitioners’ XSD schema and XML data into SEMIC’s Core Business Vocabulary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Primary Actors:</strong> Semantic Engineer (Data Integration Specialist)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Description:</strong> : Take as input the XSD schema of the National Registry, select corresponding data that adheres to that XSD schema, and create mapping rules from there to equivalent entities in the Core Business vocabulary. Ensure that these rules are machine-executable, and transform the content into a knowledge graph that is semantically faithful to the semantics represented in the original XML files.
<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sec:uc2.2-guidline"><a class="anchor" href="#sec:uc2.2-guidline"></a>Guidelines for Mapping an Existing XSD Schema to a Core Vocabulary</h3>
<div class="paragraph">
<p>This section provides detailed instructions for addressing use case <a href="introduction.html#sec:uc22" class="xref page">UC2.2</a>.</p>
</div>
<div class="paragraph">
<p>To create an XSD mapping, one needs to decide on the purpose and level of specificity of the XSD schema mapping. It can range from producing a lightweight alignment at the level of vocabulary down to a full-fledged executable set of rules for data transformation. In most cases, the reason why this mapping is done, is to also transform the corresponding XML files adhering to the XSD schema into RDF. Therefore, we include this step in the guideline.</p>
</div>
<div class="paragraph">
<p>In this section we describe the procedures to follow, which vary by selected material and ultimate goal in the broader context. The diagram below depicts the general process to create an XSD schema mapping and corresponding XML mappings, which is described afterwards.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/UC2.2.png" alt="UC2.2">
</div>
<div class="title">Figure 4. Overview of the guidelines for Mapping an Existing XSD Schema</div>
</div>
<div class="paragraph">
<p>The main procedure consists of four phases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Staging</strong>:<strong> </strong>to understand the XSD Schema and prepare test data, to ensure any preparations are completed before the mapping process;</p>
</li>
<li>
<p><strong>Map the XSD schema</strong> to the Core Vocabulary, for which there are two options:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Map the schema to the CV in its native format, which is the main scenario;</p>
</li>
<li>
<p>Map the schema to the XSD version of the CV, if such an XSD file is available;</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Transform XML data to the Core Vocabulary through mappings</strong>, if applicable;</p>
</li>
<li>
<p><strong>Disseminate the documentation</strong> according to the procedure followed including, mainly, the used and generated files, mapping declarations or rules, and validation reports, to be applied in the foreseen use cases of the transformation pipelines.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_phase_1_understand_xsd_schema_and_prepare_test_data"><a class="anchor" href="#_phase_1_understand_xsd_schema_and_prepare_test_data"></a>Phase 1: Understand XSD schema and prepare test data</h4>
<div class="paragraph">
<p>The first task is to examine the XSD schema to understand what elements it contains and how the hierarchical structuring of content may affect the meaning of the elements. This is important both for mapping and for selecting appropriate test data.</p>
</div>
<div class="paragraph">
<p>It may be that the XSD is outdated or partial with respect to the XML files that contain the data. Therefore, if during this staging process, it appears that Phase 3 will have to be included, then it is important to also construct a representative test dataset. This dataset should consist of a carefully selected set of XML files that cover the important scenarios and use cases encountered in the production data. It should be sufficiently comprehensive to facilitate rapid transformation cycles, enabling effective testing iterations in the validation. Also, it must align with the source schema for which it is used as test data.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_2_map_the_xsd_schema"><a class="anchor" href="#_phase_2_map_the_xsd_schema"></a>Phase 2: Map the XSD schema</h4>
<div class="paragraph">
<p>Conceptual Mapping in semantic data integration–determining what elements from the source should correspond to those in the target–can be established at two distinct levels: the vocabulary level and the application profile level. These levels differ primarily in their complexity and specificity regarding the data context they address. A <strong>Vocabulary mapping</strong> is established  as the principal task: the XSD schema elements need to align to CV elements, focussing on terminological alignments.</p>
</div>
<div class="paragraph">
<p>For the XSD file, they are the elements within the tags <code>&lt;xs:element ref=”<em>elementLabel</em>”&gt;</code> where the “<span class="custom-highlight">elementLabel</span>” first has to be contextually interpreted if no definition is given in the XSD file, and then mapped to a concept from the chosen CV. For instance, a <code>&lt;xs:element ref=”address”&gt;</code> nested within the concept <code>&lt;xs:element ref=”Person”&gt;</code> has a different meaning from “<span class="custom-highlight">address</span>” nested within the concept <code>&lt;xs:element ref=”Website”&gt;</code>. This thus also requires careful management of the mappings, where the whole XPath is documented, rather than only the name of the element, because the whole path is needed for disambiguation.</p>
</div>
<div class="paragraph">
<p><strong>Option 2-i. Map XSD to a CV’s main format</strong></p>
</div>
<div class="paragraph">
<p>Mapping may be with the intent to transform, or simply align for interoperability. More tools have been proposed for the former, and more so explicitly to an OWL flavour (RDFS/OWL full or an OWL 2 in one of its serialisations).</p>
</div>
<div class="paragraph">
<p>A quick overview of translations for the XML Schema constructs and OWL constructs [<a href="references.html#ref-89" class="xref page">xsd-owl</a>] is included in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>XML Schema</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>OWL</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Shared informal semantics element</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">element&#124;attribute</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdf:Property, owl:DatatypeProperty, owl:ObjectProperty</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Named relationship between nodes or between nodes and values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">element@substitutionGroup</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:subPropertyOf</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Relationship can appear in place of a more general one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">element@type</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:range</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">The Class in the range position in the property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">complexType&#124;group&#124;attributeGroup</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:Class</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Relationships and contextual restrictions package</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">complexType//element</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:Restriction</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Filler of a relationship in that axiom/context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">extension@base &#124; restriction@base</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">rdfs:subClassOf</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Indicates that the package concretises or specializes the base package.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">@maxOccurs</p>
<p class="tableblock">@minOccurs</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:maxCardinality, owl:minCardinality</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Restrict the number of occurrences of a property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">sequence, choice</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">owl:intersectionOf, owl:unionOf</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Combination of relations in a context</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An example of each XSD element/type to a class or property would, as a minimum, be recorded in a table format for documentation. For instance:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 40%;">
<col style="width: 35%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>XSD Element</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Class/Property URI</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:Legalobject</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">ex1:LegalEntity</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:responsibleFor</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">ex1:hasresponsibilityFor</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:RegisteredAddress</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">ex1:OfficialAddress</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Property</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This approach results in a basic 1:1 direct alignment, which lacks contextual depth and specificity. Another approach would be to embed semantic annotations into XSD schemas using standards such as Semantic Annotations for WSDL and XML Schema (SAWSDL) [<a href="references.html#ref-64" class="xref page">sawsdl</a>] using the <strong><code>sawsdl:modelReference</code></strong> attribute to capture this mapping. Such an approach is appropriate in the context of WSDL services.</p>
</div>
<div class="paragraph">
<p><strong>Option 2-ii. Map a XSD to the XSD of a CV</strong></p>
</div>
<div class="paragraph">
<p>In a small number of cases, a CV also has an XSD schema derived from the CV’s main representation format. Then one could create an XSD-to-XSD mapping, i.e., from one’s own source XSD to the CV’s XSD target. Subsequently, it should be possible to use the CV’s existing alignment to obtain a source-XSD to target-CV alignment, by transitivity of the alignments, under the assumption that the alignment between the XSD of the CV and the CV is a 1:1 mapping. While this option is possible for the CBV already, it is currently not a main route for alignment to a CV and therefore not elaborated on further here.</p>
</div>
<div class="paragraph">
<p>After completing either Phase 2-i or 2-ii, one may proceed to Phase 3, if applicable, else jump to Phase 4.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_3_transform_xml_into_cv_elements"><a class="anchor" href="#_phase_3_transform_xml_into_cv_elements"></a>Phase 3: Transform XML into CV elements</h4>
<div class="paragraph">
<p>Drilling down into Phase 3 of the overall procedure, we identify three steps, as shown in the figure below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/xmlTOcv.png" alt="xmlTOcv">
</div>
<div class="title">Figure 5. Overivew of the subprocess of transforming XML into CV elements</div>
</div>
<div class="paragraph">
<p><strong>Transforming the XML data to the Core Vocabulary by means of mappings</strong> consists of:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Create a Conceptual Mapping</strong>, which involves defining the correspondence between the elements from the XSD schema, the terms in the vocabulary, and the elements in the corresponding XML files;</p>
</li>
<li>
<p><strong>Create a Technical Mapping</strong>, which involves converting the conceptual mappings into machine-executable transformation rules, focussing on the actual transformation of XML to RDF;</p>
</li>
<li>
<p><strong>Validate the mapping rules</strong> to test the mappings and data transformations on correctness;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <strong>conceptual mapping</strong> helps business and domain experts to validate the correspondences. The <strong>technical mapping</strong> ensures an algorithm can transform the data automatically into a format that is compatible with the CV. The <strong>validation</strong> contributes to consistency and accuracy of the mappings and thereby the data transformation.</p>
</div>
<div class="paragraph">
<p><strong>Phase 3.1 Conceptual Mapping development</strong></p>
</div>
<div class="paragraph">
<p>Besides the XSD to CV mappings, the XML elements can also be mapped in a <strong>Vocabulary mapping</strong>. For the XML files, an XML element or attribute is then directly mapped to an ontology class or property. For example, an XML element <code>&lt;PostalAddress&gt;</code> could be mapped to the <span class="custom-highlight">locn:Address</span> class in a CV, or an element <code>&lt;surname&gt;</code> could be mapped to a property <span class="custom-highlight">foaf:familyName</span> in the FOAF ontology. Such mappings can be established and written in a spreadsheet or mapping-specific software.</p>
</div>
<div class="paragraph">
<p>Alternatively, one can create an <strong>Application Profile mapping</strong>, which utilises XPath to guide access to data in XML tree structures, enabling extraction and contextualization of data before mapping it to an ontology fragment that is usually expressed as a SPARQL Property Path (or simply: a Property Path). This Property Path facilitates the description of instantiation patterns specific to the Application Profile.</p>
</div>
<div class="paragraph">
<p>The tables below show two examples of mapping the organisation&#8217;s address, city and postal code: where the data is extracted from in the source, and how it can be mapped to targeted ontology, such as <span class="custom-highlight">locn:postName</span>, and <span class="custom-highlight">locn:postCode</span> in the vocabulary. To ensure that this address is linked to an organisation instance, and not, say, a person, the mapping is anchored in an instance represented by the variable <code>?this</code> of an <span class="custom-highlight">owl:Organisation</span>. Optionally, a class path can also be provided to explicitly state the class sequence, which otherwise can be deduced from the Application Profile definition.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Source XPath</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;">*/efac:Company/cac:PostalAddress/cbc:PostalZone</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Target Property Path</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this cv:registeredAddress /<strong>locn:postCode</strong> ?value .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Target Class Path</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">org:Organization / locn:Address / rdf:PlainLiteral</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Source XPath</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;">*/efac:Company/cac:PostalAddress/cbc:CityName</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Target Property Path</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this cv:registeredAddress / <strong>locn:postName</strong> ?value .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Target Class Path</strong></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">org:Organization / locn:Address / rdf:PlainLiteral</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Inputs</strong>: XSD Schemas, Ontologies, SHACL Data Shapes, Source and Target Documentation, Sample XML data. Both vocabulary and profile mappings are typically crafted and validated by domain experts, data-savvy business stakeholders, and in collaboration with semantic engineers and CV experts.<br>
<strong>Outputs</strong>: Conceptual Mapping documented in, e.g., a spreadsheet.</p>
</div>
<div class="paragraph">
<p><strong>Phase 3.2: Technical Mapping development</strong></p>
</div>
<div class="paragraph">
<p>The technical mapping serves as the bridge between conceptual design and practical, machine-executable implementation. This step takes as input the conceptual mapping and establishes correspondences between XPath expressions and ontology fragments.</p>
</div>
<div class="paragraph">
<p>Several technology options are available [<a href="references.html#ref-65" class="xref page">ml-lr</a>] to represent these mappings technically, such as XSLT [<a href="references.html#ref-66" class="xref page">xslt</a>], RML [<a href="references.html#ref-67" class="xref page">rml</a>] (extending R2RML), and [<a href="references.html#ref-68" class="xref page">SPARQLAnything</a>]. RML allows for the representation of mappings from heterogeneous data formats, such as XML, JSON, relational databases, and CSV into RDF. The mapping rules can be expressed in Turtle RML or the YARRRML [<a href="references.html#ref-69" class="xref page">yarrrml</a>] dialect, a user-friendly text-based format based on YAML, making the mappings accessible to both machines and humans. RML is well-supported by robust implementations such as RMLMapper [<a href="references.html#ref-70" class="xref page">rml-map</a>] and RMLStreamer [<a href="references.html#ref-71" class="xref page">rml-stream</a>], which provide robust platforms for executing these mappings. RMLMapper is adept at handling batch processing of data and RMLStreamer suits streaming data scenarios, where data needs to be processed in real-time.</p>
</div>
<div class="paragraph">
<p>Provided one has mastered RML along with XML technologies such as XSD, XPath, and XQuery to implement the mappings effectively [<a href="references.html#ref-72" class="xref page">rml-gen</a>], the development of the technical mapping rules is straightforward thanks to the conceptual mapping output from Phase 3.1. RML mapping statements are created for each class of the target ontology coupled with the property-object mapping statements specific to that class.</p>
</div>
<div class="paragraph">
<p>An additional step involves deciding on a URI creation policy and designing a uniform scheme for use in the generated data, ensuring consistency and coherence in the data output.</p>
</div>
<div class="paragraph">
<p>A viable alternative to RML is XSLT technology, which offers a powerful, but low-level method for defining technical mappings. While this approach allows for high expressiveness and complex transformations, it also increases the potential for errors due to its intricate syntax and operational complexity. This technology excels in scenarios requiring detailed manipulation and parameterisation of XML documents, surpassing the capabilities of RML in terms of flexibility and depth of transformation rules that can be implemented. However, the detailed control it affords means that developers must have a high level of expertise in semantic technologies and exercise caution and precision to avoid common pitfalls associated with its use.</p>
</div>
<div class="paragraph">
<p>A pertinent example of XSLT&#8217;s application is the tool for transforming ISO-19139 metadata to the DCAT-AP geospatial profile GeoDCAT-AP [<a href="references.html#ref-74" class="xref page">geo-dcat-ap</a>] in the INSPIRE framework and the EU ISA Programme. This XSLT script is configurable to accommodate transformation with various operational parameters such as the selection between core or extended GeoDCAT-AP profiles and specific spatial reference systems for geometry encoding, showcasing its utility in precise and tailored data manipulation tasks.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Conceptual Mapping spreadsheet.<br>
<strong>Outputs</strong>: Technical Mapping source code.</p>
</div>
<div class="paragraph">
<p><strong>Phase 3.3: Validation of the RDF output</strong></p>
</div>
<div class="paragraph">
<p>Given the output of Phase 3.2 and the test data preparation from Phase 1, first transform the sample XML data into RDF, which will be used for validation testing. <br>
Two primary methods of validation should be employed to test the integrity and accuracy of the data transformation: SPARQL-based validation and SHACL-based validation, each serving distinct but complementary functions.</p>
</div>
<div class="paragraph">
<p>The SPARQL-based validation method utilises SPARQL ASK queries that are derived from the SPARQL Property Path expressions and complementary Class paths from Phase 3.1. The ASK queries test specific conditions or patterns in the RDF graph corresponding to each conceptual mapping rule. By executing these queries, one aims to confirm that certain data elements and relationships have been correctly instantiated according to the mapping rules. The ASK queries return a Boolean value indicating whether the RDF graph meets the conditions specified in the query, thus providing a straightforward mechanism for validation. This confirms that the conceptual mapping is implemented correctly in a technical mapping rule.</p>
</div>
<div class="paragraph">
<p>For example, for the mapping rules above, the following assertions can be derived:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">ASK {
  ?this a org:Organization .
  ?this cv:registeredAddress / locn:postName ?value .
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">ASK {
  ?this a org:Organization .
  ?this cv:registeredAddress / locn:postCode ?value .
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The SHACL-based validation method provides a comprehensive approach for validating RDF data, where data shapes are defined according to the constraints and structures expected in the RDF output, as specified by the mapped Application Profile. These shapes act as templates that the RDF graph must conform to, covering aspects such as data types, relationships, and cardinality. A SHACL validation engine processes the RDF data against these shapes, identifying any violations that indicate non-conformity with the expected data model.</p>
</div>
<div class="paragraph">
<p>SHACL is a suitable choice to ensure adherence to data standards and interoperability requirements. This form of validation is independent of the way in which data mappings are constructed, focussing instead on whether the generated data conforms to established semantic models. It provides a high-level assurance that data structures and content meet the specifications.</p>
</div>
<div class="paragraph">
<p>SPARQL-based validation is tightly linked to the mapping process itself, offering a granular, rule-by-rule validation that ensures each data transformation aligns with the expert-validated mappings. It is particularly effective in confirming the accuracy of complex mappings and ensuring that the implemented data transformations precisely reflect the intended semantic interpretations, thus providing a comprehensive check on the fidelity of the mapping process.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Sample data transformed into RDF, Conceptual Mapping, Technical Mapping, SHACL data shapes. <br>
<strong>Outputs</strong>: Validation reports.</p>
</div>
</div>
<div class="sect3">
<h4 id="_phase_4_dissemination"><a class="anchor" href="#_phase_4_dissemination"></a>Phase 4: Dissemination</h4>
<div class="paragraph">
<p>Once the XSD-to-XSD (to CV), XSD-to-CV, and, optionally, the XML to CV have been completed and validated, they can be packaged for dissemination and deployment. In particular if Phase 3 is needed, disseminating a mapping package facilitates their controlled use for data transformation, ensures the ability to trace the evolution of mapping rules, and standardises the exchange of such rules. This structured approach allows for efficient and reliable data transformation processes across different systems.</p>
</div>
<div class="paragraph">
<p>A comprehensive mapping package typically includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>XSD-to-CV mappings</strong> as output of Phase 2, together with at least the source XSD and target CV.</p>
</li>
<li>
<p><strong>XML-to-CV mappings</strong> (optional):</p>
<div class="ulist">
<ul>
<li>
<p><strong>Conceptual Mapping Files</strong>: Serves as the core documentation, outlining the rationale and structure behind the mappings to ensure transparency and ease of understanding for both domain experts and engineers.</p>
</li>
<li>
<p><strong>Technical Mapping Files</strong>: This contains all the mapping code files ([<a href="references.html#ref-66" class="xref page">xslt</a>], [<a href="references.html#ref-67" class="xref page">rml</a>], [<a href="references.html#ref-68" class="xref page">SPARQLAnything</a>], depending on the chosen mapping technology) for data transformation.</p>
</li>
<li>
<p><strong>Additional Mapping Resources</strong> (if applicable): Such as controlled lists, value mappings, or correspondence tables, which are crucial for the correct interpretation and application of the RML code.</p>
</li>
<li>
<p><strong>Test Data</strong>: Carefully selected and representative XML files that cover various scenarios and cases. These test data are crucial for ensuring that the mappings perform as expected across a range of real-world data.</p>
</li>
<li>
<p><strong>Factory Acceptance Testing (FAT) Reports</strong>: They document the testing outcomes to guarantee that the mappings meet the expected standards before deployment. They are based on the SPARQL and SHACL validations conducted.</p>
</li>
<li>
<p><strong>Tests Used for FAT Reports</strong>: The package also incorporates the actual SPARQL assertions and SHACL shapes used in generating the FAT reports, providing a complete view of the validation process.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Descriptive Metadata</strong>: Contains essential data about the mapping package, such as identification, title, description, and versions of the mapping, ontology, and source schemas.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Such a package is designed to be self-contained, ensuring that it can be immediately integrated and operational within various deployment scenarios, supporting not only the application, but also the governance of the mappings, ensuring they are maintained and utilised correctly in diverse IT environments. This systematic packaging addresses critical needs for usability, maintainability, and standardisation, which are essential for widespread adoption and operational success in data transformation initiatives.</p>
</div>
<div class="paragraph">
<p><strong>Inputs</strong>: Conceptual Mapping spreadsheet, Ontologies or Vocabularies, SHACL Data Shapes, Sample XML data, Sample data transformed into RDF, Conceptual Mapping, Technical Mapping, SHACL data shapes, Validation reports.<br>
<strong>Outputs</strong>: Comprehensive Mapping Package.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:uc2.2-tutorial"><a class="anchor" href="#sec:uc2.2-tutorial"></a>Tutorial: Map the Core Business Vocabulary from XSD to RDF</h3>
<div class="paragraph">
<p>This tutorial addresses <strong>Use Case</strong> <a href="introduction.html#sec:uc22" class="xref page">UC2.2</a>, focussing on enabling <strong>semantic interoperability</strong> by mapping an existing <strong>XSD schema</strong>—specifically, the <a href="https://github.com/SEMICeu/XML-schema/blob/main/models/CoreVoc_Business/CoreVoc_Business.xsd">Core Business Vocabulary (CBV) XSD schema</a>—to its corresponding <strong>RDF representation</strong>. This tutorial guides you through the key steps, involving:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Staging, to understand the XSD schema;</p>
</li>
<li>
<p>Map the schema to the CV in its native format;</p>
</li>
<li>
<p>Map XML data into the CV’s native format:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Creating a conceptual mapping between the XSD schema and XML files, and the vocabulary in RDF;</p>
</li>
<li>
<p>Creating the technical mapping, defining the transformation rules;</p>
</li>
<li>
<p>Validating the RDF output;</p>
</li>
</ol>
</div>
</li>
<li>
<p>Disseminating the outcome.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_phase_1_staging_2"><a class="anchor" href="#_phase_1_staging_2"></a>Phase 1: Staging</h4>
<div class="paragraph">
<p>First, you will familiarise yourself with the selected XSD schema and then prepare the test data.</p>
</div>
<div class="paragraph">
<p><strong>Understanding the XML schema</strong></p>
</div>
<div class="paragraph">
<p>The CBV <a href="https://github.com/SEMICeu/XML-schema/blob/main/models/CoreVoc_Business/CoreVoc_Business.xsd">XSD file</a> defines several key entities for the domain, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>AccountingDocument</strong>: Financial and non-financial information resulting from an activity of an organisation.</p>
</li>
<li>
<p><strong>BusinessAgent</strong>: An entity capable of performing actions, potentially associated with a person or an organisation.</p>
</li>
<li>
<p><strong>FormalOrganization</strong> and <strong>LegalEntity</strong>: Legal and formal entities with rights and obligations.</p>
</li>
<li>
<p><strong>ContactPoint</strong>: Contact details for an entity, such as email, phone, etc.</p>
</li>
<li>
<p><strong>RegisteredAddress</strong>: The address at which the Legal Entity is legally registered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here’s how the snippet of the XSD schema looks like for the AccountingDocument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- AccountingDocumentType --&gt;

&lt;xs:element name="AccountingDocument" type="AccountingDocumentType"/&gt;

&lt;xs:complexType name="AccountingDocumentType"
  sawsdl:modelReference="data.europa.eu/m8g/AccountingDocument"&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation xml:lang="en"&gt;
      Financial and non-financial information as a result of an activity of an organisation.
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
&lt;/xs:complexType&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Preparing the Test Data</strong></p>
</div>
<div class="paragraph">
<p>Since we will also map data and proceed through Steps 3.1-3.3 further below, it is essential to prepare representative test data in this Phase 1. This data should align with the structure defined in the XSD schema and cover various use cases and scenarios that might occur in production data. For this tutorial, we will use the <a href="https://github.com/SEMICeu/XML-schema/blob/main/samples/SampleData_Business.xml"><code>SampleData_Business.xml</code></a> file available on the <a href="https://github.com/SEMICeu/XML-schema/tree/main">SEMIC GitHub repository</a>. <br>
We ensure that the XML data contains relevant elements, such as <code>&lt;LegalEntity&gt;</code>, <code>&lt;LegalName&gt;</code>, <code>&lt;ContactPoint&gt;</code>, and <code>&lt;RegisteredAddress&gt;</code>, which you will later map to the CBV terms. Among other content, it has the following data for <code>&lt;LegalName&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;LegalName xml:lang="fr"&gt;Comité belge pour l'UNICEF&lt;/LegalName&gt;
&lt;LegalName xml:lang="nl"&gt;Belgisch Comite voor UNICEF&lt;/LegalName&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_phase_2_map_xsd_schema_elements_to_xsd_of_the_cv"><a class="anchor" href="#_phase_2_map_xsd_schema_elements_to_xsd_of_the_cv"></a>Phase 2: Map XSD schema elements to XSD of the CV</h4>
<div class="paragraph">
<p><strong>Mapping XSD to CV Terms</strong></p>
</div>
<div class="paragraph">
<p>In this step, we map each XSD element/type to  Class or Property. These mappings often follow patterns like:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 45%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>XSD Element</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>RDF Class/Property URI</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>Type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:LegalEntity</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">legal:LegalEntity</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:LegalName</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">legal:legalName</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">xs:RegisteredAddress</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">m8g:registeredAddress</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">Property</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use the <a href="https://www.w3.org/TR/sawsdl/"><strong><code>sawsdl:modelReference</code></strong></a> attribute to capture this mapping.</p>
</div>
<div class="paragraph">
<p><em>Example Mapping Rules</em></p>
</div>
<div class="paragraph">
<p>Here’s how to describe <strong>mapping rules</strong> from XSD to TTL in XSD. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;xs:element name="LegalName" type="TextType"
  sawsdl:modelReference="http://www.w3.org/ns/legal#legalName"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This maps the XML element <strong><code>&lt;LegalName&gt;</code></strong> to the property <strong><span class="custom-highlight">legal:legalName</span></strong>.</p>
</div>
<div class="paragraph">
<p><em>Mapping Table (Partial)</em></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>XSD Element</strong></th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><strong>RDF Mapping (TTL)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><code>LegalEntity</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">a legal:LegalEntity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><code>LegalName</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">legal:legalName "Example ORG."</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><code>RegisteredAddress</code></p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">m8g:registeredAddress <a href="http://example.org/addr/123" class="bare">http://example.org/addr/123</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_phase_3_map_xml_data_to_the_core_vocabulary"><a class="anchor" href="#_phase_3_map_xml_data_to_the_core_vocabulary"></a>Phase 3: Map XML data to the Core Vocabulary</h4>
<div class="paragraph">
<p><strong>Create a Conceptual Mapping</strong></p>
</div>
<div class="paragraph">
<p>We will create a conceptual mapping between the XSD elements and RDF terms from the CBV. This will guide the transformation of the XML data to RDF. There are two levels of conceptual mapping:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Vocabulary Level Mapping</strong>: This is a basic alignment, where each XSD and XML element is directly mapped to an ontology class or property. For XSD, this task should already have been completed in Phase 2. Taken together, one then obtains an orchestration where, for instance, <code>&lt;xs:element name="LegalEntity" type="LegalEntityType"/&gt;</code> from the XSD schema and the use of <code>&lt;LegalEntity&gt;</code> in the XML file are mapped to <span class="custom-highlight">legal:LegalEntity</span>.</p>
</li>
<li>
<p><strong>Application Profile Level Mapping</strong>: At this level, you use <strong>XPath</strong> expressions to extract specific data from the XML structure, ensuring a more precise mapping to the Core Vocabulary.</p>
<div class="ulist">
<ul>
<li>
<p>Example: Mapping the address fields from the XML to a specific property, such as <span class="custom-highlight">locn:postCode</span> or <span class="custom-highlight">locn:postName</span>. In both cases, the target is declared in two components: the target property path and the target class path, to ensure it is mapped in the right context. For instance, a <span class="custom-highlight">locn:postName</span> of a legal entity may well have different components compared to a <span class="custom-highlight">locn:postName</span> of the address of a physical building.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Conceptually, we thus map between the same things across the files, as illustrated in the following figure, which links the XSD element <code>ContactPoint</code> (highlighted with a green oval) to the <span class="custom-highlight">cv:ContactPoint</span> that, in turn, makes the contact point of the data (that adheres to the XSD schema specification) an instance of that contact point:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/snippetCBV.png" alt="snippetCBV">
</div>
<div class="title">Figure 6. Visualisation of an orchstration of mappigns between the XSD schema, its XML file compliant with it, and the CV</div>
</div>
<div class="paragraph">
<p>More precisely, you have to write down the source XPath, i.e., <code>*/ContactPoint</code> in the figure, and how it is represented in the target specification, defining a target property path and a target class path. Examples of the Conceptual Mapping for five selected elements of the XSD schema are presented below, where the full URIs have been abbreviated:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;">Source XPath</th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;">Target Property Path</th>
<th class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;">Target Class Path</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">*/AccountingDocument</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this  a cv:AccountingDocument .</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">cv:AccountingDocument</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">*/LegalEntity</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this  a legal:LegalEntity .</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">legal:LegalEntity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">*/LegalEntity/LegalName</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this  legal:legalName ?value</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">legal:LegalEntity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">*/ContactPoint</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">?this  a cv:ContactPoint  .</p></td>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">cv:ContactPoint</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Create the Technical Mapping</strong></p>
</div>
<div class="paragraph">
<p>The <a href="https://rml.io/docs/rml/introduction/">RDF Mapping Language (RML)</a> is suitable for the task of implementing the XML-to-RDF conceptual mappings as technical mappings. We will use RML to create machine-executable mapping rules as follows. First, the <code>rml:logicalSource</code> is declared, with the root of the tree in the XML file, which is <code>*/LegalEntity</code> in our use case that assumes there to be an <code>rml:source</code> called <code>SampleData_Business.xml</code> with instance data. Next, a <code>rr:subjectMap</code> is added to state how each <code>&lt;LegalEntity&gt;</code> node becomes the RDF subject—here we build an IRI from <code>generate-id(.)</code> and type it as <span class="custom-highlight">legal:LegalEntity</span>. Finally, one or more <code>rr:predicateObjectMap</code> blocks capture the properties we need; in the simplest case we map the child element <code>&lt;LegalName&gt;</code> to the vocabulary property <span class="custom-highlight">legal:legalName</span>. The complete example RML mapping code looks as follows, in Turtle syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-turtle hljs" data-lang="turtle">@prefix rr:  &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix ql:  &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix ex:  &lt;http://example.cv/mapping#&gt; .
@prefix :    &lt;http://example.cv/resource#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix legal: &lt;http://www.w3.org/ns/legal#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .

ex:Organization
  a rr:TriplesMap ;
  rdfs:label "Organisation" ;
  rml:logicalSource [
    rml:source "SampleData_Business.xml" ;
    rml:iterator "*/LegalEntity" ;
    rml:referenceFormulation ql:XPath
  ] ;
  rr:subjectMap [
    rdfs:label "LegalEntity" ;
    rr:template "http://example.cv/resource#Organisation_{generate-id(.)}" ;
    rr:class legal:LegalEntity ;
  ] ;
  rr:predicateObjectMap [
    rdfs:label "LegalName" ;
    rr:predicate legal:legalName ;
    rr:objectMap [
      rml:reference "LegalName"
    ]
  ] .</code></pre>
</div>
</div>
<div class="paragraph">
<p>This needs to be carried out for all elements from the XML files that were selected for mapping in Phase 1.</p>
</div>
<div class="paragraph">
<p><strong>Validate the RDF Output</strong></p>
</div>
<div class="paragraph">
<p>Now that we have created the mappings, we can apply them to <a href="https://github.com/SEMICeu/XML-schema/blob/main/samples/SampleData_Business.xml">sample data</a> using RMLMapper or a similar tool selected from the <a href="https://interoperable-europe.ec.europa.eu/collection/semic-support-centre/semic-tooling-assistant">SEMIC Tooling Assistant</a>. For this tutorial, we will use RMLMapper, which will read the RML mapping file and the input XML data, and then generate the corresponding RDF output.</p>
</div>
<div class="paragraph">
<p>The snippet below is a <strong>single triple set</strong> produced when the mapping is run over the sample file <code>SampleData_Business.xml</code> (see Phase 1).
It shows that one of the XML <code>&lt;LegalEntity&gt;</code> records—the Belgian committee for UNICEF—has been converted into an RDF resource of type <span class="custom-highlight">legal:LegalEntity</span> with its <span class="custom-highlight">legal:legalName</span> correctly populated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-turtle hljs" data-lang="turtle">@prefix legal: &lt;http://www.w3.org/ns/legal#&gt; .
@prefix cv:    &lt;http://data.europa.eu/m8g/&gt; .
@prefix ex:    &lt;http://example.cv/resource#&gt; .

ex:Organization_1
    a legal:LegalEntity ;
    legal:legalName "Comité belge pour l'UNICEF"@fr ;
    legal:legalName "Belgisch Comite voor UNICEF"@nl .</code></pre>
</div>
</div>
<div class="paragraph">
<p>We will validate the output in two ways: to check that the content transformed from XML into RDF exists in the graph and to check that it exists as intended also regarding any constraints on the shape of the graph.</p>
</div>
<div class="paragraph">
<p>First, we validate the generated RDF using SPARQL queries to ensure that the transformation adheres to the defined conceptual mapping. Since we want to validate rather than retrieve information, we use SPARQL ASK queries, which will return either a ‘yes’ or a ‘no’. For our running example, the SPARQL query for validating the <span class="custom-highlight">LegalEntity</span> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">ASK {
  ?e a &lt;http://www.w3.org/ns/legal#LegalEntity&gt; ;
     &lt;http://www.w3.org/ns/legal#legalName&gt; ?name .
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>SHACL validation can be applied to ensure that the RDF data conforms to the required shapes and structures regarding any constraints that must hold.</p>
</div>
<div class="paragraph">
<p>To create a SHACL shape for the given RDF output, where the <span class="custom-highlight">LegalEntity</span> (<span class="custom-highlight">legal:LegalEntity</span>) has a <span class="custom-highlight">legalName</span> property, we need to define a SHACL shape that validates the type of the <span class="custom-highlight">LegalEntity</span>, the presence of the <span class="custom-highlight">legalName</span> property, and its datatype.</p>
</div>
<div class="paragraph">
<p>An example SHACL shape for validating <span class="custom-highlight">LegalEntity</span> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-turtle hljs" data-lang="turtle">@prefix sh:    &lt;http://www.w3.org/ns/shacl#&gt; .
@prefix cv:    &lt;http://data.europa.eu/m8g/&gt; .
@prefix ex:    &lt;http://example.cv/resource#&gt; .
@prefix xsd:   &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix legal: &lt;http://www.w3.org/ns/legal#&gt; .

# Define a shape for LegalEntity
ex:LegalEntityShape
    a sh:NodeShape ;
    sh:targetClass legal:LegalEntity ;        # Applies to all instances of LegalEntity
    sh:property [
        sh:path legal:legalName ;             # Checks for the legalName property
        sh:datatype xsd:string ;              # Must be a string literal
        sh:minCount 1 ;                       # At least one legalName is required
    ] .</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this code snippet, observe:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Target Class</strong>: The shape is applied to all resources of type <span class="custom-highlight">legal:LegalEntity</span>. This means it validates any <span class="custom-highlight">LegalEntity</span> instance in the selected RDF data.</p>
</li>
<li>
<p><strong>Property Constraints</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><strong>legal:legalName</strong>: The property <span class="custom-highlight">legalName</span> is required to be of type <code>xsd:string</code>, and the minimum count is set to 1 (<code>sh:minCount 1</code>), meaning that the <span class="custom-highlight">legalName</span> property must appear at least once.
Note: The SHACL shapes of the CBV can be found <a href="https://github.com/SEMICeu/Core-Business-Vocabulary/tree/master/releases/2.2.0/shacl">here</a>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_phase_4_dissemination_2"><a class="anchor" href="#_phase_4_dissemination_2"></a>Phase 4: Dissemination</h4>
<div class="paragraph">
<p>Once the mappings are validated, the next step is to disseminate the project with the mappings as a package of documentation together with the artefacts. The package includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The source and target: the XSD schema and the CV;</p>
</li>
<li>
<p>Conceptual Mapping Files: This documents the mapping rules between XSD elements and RDF terms, being the table included above in Phase 2.</p>
</li>
<li>
<p>Technical Mapping Files: These include the RML or code for data transformation, which were developed in Phase 3.</p>
</li>
<li>
<p>Test Data: The representative set of XML files for testing the mappings that were created in Phase 1.</p>
</li>
<li>
<p>Validation Reports: The SPARQL and SHACL validation results obtained from Phase 4.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p style="text-align:center">This document is created by the European Commission and is licensed under the terms of
        EUPL-1.2 license</a>.
        <br/>This page was built using the Antora default UI. The source code for this UI is licensed under the terms of
        the MPL-2.0 license.
    </p>

        <script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="150" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="150" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
